{% extends 'index.html' %}

{% block body %}
<div class="container mb-4">
    <form id="research-form">
        {% for track_dir in track_dirs %}
            <div class="mt-3 card shadow">
                <h5 class="card-header text-center text-light bg-info">{{ i }} {{ track_dir }} </h5>
                <div class="card-body">
                    <div class="row mb-2 justify-content-center">
                        <div class="col-12 font-weight-bold text-center mb-1 mr-md-4">Mixture</div>
                        <audio controls class="col-md-12 col-lg-8 align-self-center mb-2 mb-md-0" preload="auto">
                            <source src="{{ url_for('static', filename='cognitive_research/'+track_dir+'/mixture.wav') }}" type="audio/wav">
                        </audio>
                    </div>
                    <div class="row mb-2 justify-content-center">
                        <div class="col-12 font-weight-bold text-center mb-1 mr-md-4">Original Instrumental</div>
                        <audio controls class="col-md-12 col-lg-8 align-self-center mb-2 mb-md-0" preload="auto">
                            <source src="{{ url_for('static', filename='cognitive_research/'+track_dir+'/accompaniment.wav') }}" type="audio/wav">
                        </audio>
                    </div>
                    <div class="row mb-2 justify-content-center">
                        <div class="col-12 font-weight-bold text-center mb-1 mr-md-4">Predicted results to compare</div>
                        <audio controls class="col-md-12 col-lg-8 align-self-center mb-2 mb-md-0" preload="auto">
                            <source src="{{ url_for('static', filename='cognitive_research/'+track_dir+'/predicted_accompaniment.wav') }}" type="audio/wav">
                        </audio>
                    </div>
                    <fieldset class="form-group row">
                        <legend class="col-form-legend text-center">Please select appropriate rating for this separation result.</legend>
                        <div class="m-auto col-12 col-md-3">
                            <div class="form-check">
                                <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="rating_{{ loop.index }}" id="rating_{{ loop.index }}" value="5" required>
                                Excellent
                                </label>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="rating_{{ loop.index }}" id="rating_{{ loop.index }}" value="4" required>
                                Good
                                </label>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="rating_{{ loop.index }}" id="rating_{{ loop.index }}" value="3" required>
                                Fair
                                </label>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="rating_{{ loop.index }}" id="rating_{{ loop.index }}" value="2" required>
                                Poor
                                </label>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="rating_{{ loop.index }}" id="rating_{{ loop.index }}" value="1" required>
                                Very Poor
                                </label>
                            </div>
                        </div>
                        <input type="hidden" id="" name="title_{{ loop.index }}" value="{{ track_dir }}">
                    </fieldset>
                </div>
            </div>
        {% endfor %}
        <div class="mt-3 card shadow">
            <div class="card-body">
                <div class="form-group text-center">
                    <label for="feedback">Please give any additional feedback on the results.</label>
                    <textarea class="form-control" name="feedback" id="feedback" rows="3"></textarea>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12 col-md-6 m-auto">
                <button class="btn btn-block btn-lg btn-primary" id="submit">Submit</button>
            </div>
        </div>
    </form>
</div>
<script  type="text/javascript" src="{{ url_for('static', filename='js/research.js') }}"></script>
{% endblock %}

